<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Experiments · Weber.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Weber.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><span class="toctext">User guide</span><ul><li><a class="toctext" href="../start/">Getting Started</a></li><li><a class="toctext" href="../trial_guide/">Trial Creation</a></li><li><a class="toctext" href="../stimulus/">Stimulus Generation</a></li><li><a class="toctext" href="../adaptive/">Adaptive Tracks</a></li><li><a class="toctext" href="../advanced/">Advanced Experiments</a></li><li><a class="toctext" href="../extend/">Extending Weber</a></li></ul></li><li><span class="toctext">Reference</span><ul><li class="current"><a class="toctext" href>Experiments</a><ul class="internal"></ul></li><li><a class="toctext" href="../trials/">Trials</a></li><li><a class="toctext" href="../sound/">Sound</a></li><li><a class="toctext" href="../video/">Video</a></li><li><a class="toctext" href="../event/">Events</a></li><li><a class="toctext" href="../extend_ref/">Extensions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Reference</li><li><a href>Experiments</a></li></ul><a class="edit-page" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/docs/src/experiment.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Experiments</span><a class="fa fa-bars" href="#"></a></div></header><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.Experiment" href="#Weber.Experiment"><code>Weber.Experiment</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Experiment([skip=0],[columns=[symbols...]],[debug=false],
           [moment_resolution=0.0015],[data_dir=&quot;data&quot;],
           [width=1024],[height=768],[warn_on_trials_only=true],[extensions=[]])</code></pre><p>Prepares a new experiment to be run.</p><p><strong>Keyword Arguments</strong></p><ul><li><p><strong>skip</strong> the number of offsets to skip. Allows restarting of an experiment somewhere in the middle. When an experiment is terminated, the most recent offset is reported. The offset is also recorded in each row of the resulting data file (also reported on exit).</p></li><li><p><strong>columns</strong> the names (as symbols) of columns that will be recorded during the experiment (using <code>record</code>). These can be set to fixed values (using :name =&gt; value), or be filled in during a call to record (:name). The column <code>:value</code> is always included here, even if not specified, since there are number of events recorded automatically which make use of this column.</p></li><li><p><strong>debug</strong> if true, experiment will show in a windowed view</p></li><li><p><strong>moment_resolution</strong> the desired precision that moments should be presented at. Warnings will be printed for moments that lack this precision.</p></li><li><p><strong>data_dir</strong> the directory where data files should be stored (can be set to nothing to prevent a file from being created)</p></li><li><p><strong>width</strong> and <strong>height</strong> specified the screen resolution during the experiment</p></li><li><p><strong>extensions</strong> an array of Weber.Extension objects, which <a href="../extend/">extend</a> the behavior of an experiment.</p></li><li><p><strong>warn_on_trials_only</strong> when true, latency warnings are only displayed when the trial count is greater than 0. Thus, practice and breaks that occur before the first trial do not raise latency warnings.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L131-L161">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.addcolumn" href="#Weber.addcolumn"><code>Weber.addcolumn</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">addcolumn(column::Symbol)</code></pre><p>Adds a column to be recorded in the data file.</p><p>This function must be called during setup.  It cannot be called once the experiment has begun. Repeatedly adding the same column only adds the column once. After adding a column you can include that column as a keyword argument to <a href="../trials/#Weber.record"><code>record</code></a>. You need not write to the column for every record. If left out, the column will be empty in the resulting row of the data file.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L106-L116">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.setup" href="#Weber.setup"><code>Weber.setup</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">setup(fn,experiment)</code></pre><p>Setup the experiment, adding breaks, practice, and trials.</p><p>Setup creates the context necessary to generate elements of an experiment. All calls to <code>addtrial</code>, <code>addbreak</code> and <code>addpractice</code> must be called inside of <code>fn</code>. This function must be called before <code>run</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L231-L239">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.run" href="#Base.run"><code>Base.run</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">run(experiment;await_input=true)</code></pre><p>Runs an experiment. You must call <code>setup</code> first.</p><p>By default, on windows, this function waits for user input before returning. This prevents a console from closing at the end of an experiment, preventing the user from viewing important messages. The exception is if run is called form within Juno: await_input should never be set to true in this case.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L346-L355">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.randomize_by" href="#Weber.randomize_by"><code>Weber.randomize_by</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">randomize_by(itr)</code></pre><p>Randomize by a given iterable object, usually a string (e.g. the subject id.)</p><p>If the same iterable is given, calls to random functions (e.g. <code>rand</code>, <code>randn</code> and <code>shuffle</code>) will result in the same output.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/primitives.jl#L185-L192">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.@read_args" href="#Weber.@read_args"><code>Weber.@read_args</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@read_args(description,[keyword args...])</code></pre><p>Reads experimental parameters from the user.</p><p>With no additional keyword arguments this requests the subject id, and an optional <code>skip</code> parameter (defaults to 0) from the user, and then returns them both in a tuple. The skip can be used to restart an experiment by passing it as the <code>skip</code> keyword argument to the <code>Experiment</code> constructor.</p><p>You can specify additional keyword arguments to request additional values from the user. Arguments that are a type will yield a request for textual input, and will verify that that input can be parsed as the given type. Arguments whose values are a list of symbols yield a request that the user select one of the specified values.</p><p>Arguments are requested from the user either as command-line arguments, or, if no command-line arguments were specified, interactively. Interactive arguments work both in the terminal or in Juno. This macro also generates useful help text that will be displayed to the user when they give a single command-line &quot;-h&quot; argument. This help text will include the <code>desecription</code> string.</p><p><strong>Example</strong></p><pre><code class="language-none">subject_id,skip,condition,block = @read_args(&quot;A simple experiment&quot;,
  condition=[:red,:green,:blue],block=Int)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/primitives.jl#L219-L246">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.@read_debug_args" href="#Weber.@read_debug_args"><code>Weber.@read_debug_args</code></a> — <span class="docstring-category">Macro</span>.</div><div><pre><code class="language-none">@read_debug_args(description,[keyword args...])</code></pre><p>Same as @read_args, but better suited to debugging errors in your program when running the experiment in Juno.</p><p>Specifically, this verison will never spawn a new process to run the experiment. This means that you can safely step through the code using debugging tools. In this case, you will also likely want to set <code>debug=true</code> when defining your <a href="#Weber.Experiment"><code>Experiment</code></a> object.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/primitives.jl#L195-L205">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.create_new_project" href="#Weber.create_new_project"><code>Weber.create_new_project</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">create_new_project(name,dir=&quot;.&quot;)</code></pre><p>Creates a set of files to help you get started on a new experiment.</p><p>This creates a file called run_[name].jl, and a README.md and setup.jl file for your experiment. The readme provides useful information for running the experiment that is common across all experiments. The run file provides some guidelines to get you started creating an experiment and the setup file is a script that can be used to install Weber and any additional dependencies for the project, for anyone who wants to download and run your experiment.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/helpers.jl#L91-L102">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.trial" href="#Weber.trial"><code>Weber.trial</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">Weber.trial()</code></pre><p>Returns the current trial of the experiment.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L50-L54">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.offset" href="#Weber.offset"><code>Weber.offset</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">Weber.offset()</code></pre><p>Returns the current offset. The offset represents a well defined time in the experiment. The offset is typically incremented once for every call to <a href="../trials/#Weber.addpractice"><code>addpractice</code></a> <a href="../trials/#Weber.addtrial"><code>addtrial</code></a> and <a href="../trials/#Weber.addbreak"><code>addbreak</code></a>, unless you use <a href="../trials/#Weber.@addtrials"><code>@addtrials</code></a>. You can use the offset to restart the experiment from a well defined location.</p><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>For offsets to be well defined, all calls to <a href="../trials/#Weber.moment"><code>moment</code></a> and <a href="../trials/#Weber.@addtrials"><code>@addtrials</code></a> must follow the <a href="../advanced/">guidlines</a> in the user guide. In particular, moments should not rely on state that changes during the experiment unless they are wrapped in an @addtrials macro.</p></div></div></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L59-L75">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.tick" href="#Weber.tick"><code>Weber.tick</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">Weber.tick()</code></pre><p>With microsecond precision, this returns the number of elapsed seconds from the start of the experiment to the start of the most recent moment.</p><p>If there is no experiment running, this returns the time since epoch with microsecond precision.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L79-L87">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Weber.metadata" href="#Weber.metadata"><code>Weber.metadata</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Weber.metadata() = Dict{Symbol,Any}()</p><p>Returns metadata for this experiment. You can store global state, specific to this experiment, in this dictionary.</p></div><a class="source-link" target="_blank" href="https://github.com/haberdashPI/Weber.jl/tree/094bb7a81fb349c1297888576c20bdeaf16b63c9/src/experiment.jl#L97-L102">source</a><br/></section><footer><hr/><a class="previous" href="../extend/"><span class="direction">Previous</span><span class="title">Extending Weber</span></a><a class="next" href="../trials/"><span class="direction">Next</span><span class="title">Trials</span></a></footer></article></body></html>
