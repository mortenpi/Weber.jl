<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="haberdashPI">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Experiments - Weber.jl</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../assets/Documenter.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Experiments";
    var mkdocs_page_input_path = "experiment.md";
    var mkdocs_page_url = "/experiment/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Weber.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Introduction</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../start/">Getting Started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../trial_guide/">Trial Creation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../adaptive/">Adaptive Tracks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../advanced/">Advanced Experiments</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../extend/">Extending Weber</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Reference</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Experiments</a>
        
            <ul>
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../trials/">Trials</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../sound/">Sound</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../video/">Video</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../event/">Events</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../extend_ref/">Extensions</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Weber.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Reference &raquo;</li>
        
      
    
    <li>Experiments</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/haberdashPI/Weber.jl/edit/master/docs/experiment.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a id='Weber.Experiment' href='#Weber.Experiment'>#</a>
<strong><code>Weber.Experiment</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>Experiment([skip=0],[columns=[symbols...]],[debug=false],
           [moment_resolution=0.0015],[input_resolution=1/60],[data_dir=&quot;data&quot;],
           [width=1024],[height=768],[extensions=[]])
</code></pre>

<p>Prepares a new experiment to be run.</p>
<p><strong>Keyword Arguments</strong></p>
<ul>
<li><strong>skip</strong>: the number of offsets to skip. Allows restarting of an experiment somewhere in the middle. When an experiment is terminated, the most recent offset is reported. The offset is also recorded in each row of the resulting data file (also reported on exit).</li>
<li><strong>columns</strong><strong>: the</strong> names (as symbols) of columns that will be recorded during the experiment (using <code>record</code>). These can be set to fixed values (using :name =&gt; value), or be filled in during a call to record (:name). The column <code>:value</code> is always included here, even if not specified, since there are number of events recorded automatically which make use of this column.</li>
<li><strong>debug</strong>: if true, experiment will show in a windowed view</li>
<li><strong>moment_resolution</strong>: the desired precision (in seconds) that moments should be presented at. Warnings will be printed for moments that lack this precision.</li>
<li><strong>input_resolution</strong>: the** precision (in seconds) that input events should be queried at. This almost never needs to be changed. Keyboards do not provide precise timing, and the timing of response pads is queried independently from input_resolution, using <code>response_time</code>.</li>
<li><strong>data_dir</strong>: the** directory where data files should be stored (can be set to nothing to prevent a file from being created)</li>
<li><strong>width</strong> and <strong>height</strong>: specified** the screen resolution during the experiment</li>
<li><strong>extensions</strong>: an array of Weber.Extension objects, which extend the behavior of an experiment.</li>
</ul>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L111-L142' class='documenter-source'>source</a><br></p>
<p><a id='Weber.addcolumn' href='#Weber.addcolumn'>#</a>
<strong><code>Weber.addcolumn</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>addcolumn(column::Symbol)
</code></pre>

<p>Adds a column to be recorded in the data file.</p>
<p>This function must be called during setup.  It cannot be called once the experiment has begun. Repeatedly adding the same column only adds the column once. After adding a column you can include that column as a keyword argument to <a href="../trials/#Weber.record"><code>record</code></a>. You need not write to the column for every record. If left out, the column will be empty in the resulting row of the data file.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L86-L96' class='documenter-source'>source</a><br></p>
<p><a id='Weber.setup' href='#Weber.setup'>#</a>
<strong><code>Weber.setup</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>setup(fn,experiment)
</code></pre>

<p>Setup the experiment, adding breaks, practice, and trials.</p>
<p>Setup creates the context necessary to generate elements of an experiment. All calls to <code>addtrial</code>, <code>addbreak</code> and <code>addpractice</code> must be called inside of <code>fn</code>. This function must be called before <code>run</code>.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L206-L214' class='documenter-source'>source</a><br></p>
<p><a id='Base.run' href='#Base.run'>#</a>
<strong><code>Base.run</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>run(experiment;await_input=true)
</code></pre>

<p>Runs an experiment. You must call <code>setup</code> first.</p>
<p>By default this function waits for user input before returning. This prevents a console from closing at the end of an experiment, preventing the user from viewing important messages. The exception is if run is called form within Juno: await_input should never be set to true in this case.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L337-L347' class='documenter-source'>source</a><br></p>
<p><a id='Weber.randomize_by' href='#Weber.randomize_by'>#</a>
<strong><code>Weber.randomize_by</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>randomize_by(itr)
</code></pre>

<p>Randomize by a given iterable object, usually a string (e.g. the subject id.)</p>
<p>If the same iterable is given, calls to random functions (e.g. <code>rand</code>, <code>randn</code> and <code>shuffle</code>) will result in the same output.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/primitives.jl#L129-L136' class='documenter-source'>source</a><br></p>
<p><a id='Weber.@read_args' href='#Weber.@read_args'>#</a>
<strong><code>Weber.@read_args</code></strong> &mdash; <em>Macro</em>.</p>
<pre><code>@read_args(description,[keyword args...])
</code></pre>

<p>Reads experimental parameters from the user.</p>
<p>With no additional keyword arguments this requests the subject id, and an optional <code>skip</code> parameter (defaults to 0) from the user, and then returns them both in a tuple. The skip can be used to restart an experiment by passing it as the <code>skip</code> keyword argument to the <code>Experiment</code> constructor.</p>
<p>You can specify additional keyword arguments to request additional values from the user. Arguments that are a type will yield a request for textual input, and will verify that that input can be parsed as the given type. Arguments whose values are a list of symbols yield a request that the user select one of the specified values.</p>
<p>Arguments are requested from the user either as command-line arguments, or, if no command-line arguments were specified, interactively. Interactive arguments work both in the terminal or in Juno. This macro also generates useful help text that will be displayed to the user when they give a single command-line "-h" argument. This help text will print out the <code>desecription</code> string.</p>
<p><strong>Example</strong></p>
<pre><code>subject_id,skip,condition,block = @read_args(&quot;A simple experiment&quot;,
  condition=[:red,:green,:blue],block=Int)
</code></pre>

<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/primitives.jl#L139-L166' class='documenter-source'>source</a><br></p>
<p><a id='Weber.create_new_project' href='#Weber.create_new_project'>#</a>
<strong><code>Weber.create_new_project</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>create_new_project(name,dir=&quot;.&quot;)
</code></pre>

<p>Creates a set of files to help you get started on a new experiment.</p>
<p>This creates a file called run_[name].jl, and a README.md and setup.jl file for your expeirment. The readme provides useful information for running the experiment that is common across all expeirments. The run file provides some guidelines to get you started creating an experiment and setup is a script that can be used to install Weber and any additional dependencies for the project, for anyone who wants to download and run your experiment.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/helpers.jl#L87-L99' class='documenter-source'>source</a><br></p>
<p><a id='Weber.trial' href='#Weber.trial'>#</a>
<strong><code>Weber.trial</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>Weber.trial()
</code></pre>

<p>Returns the current trial of the experiment.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L32-L36' class='documenter-source'>source</a><br></p>
<p><a id='Weber.offset' href='#Weber.offset'>#</a>
<strong><code>Weber.offset</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>Weber.offset()
</code></pre>

<p>Returns the current offset. The offset represents a well defined time in the experiment. Rerunning the experiemnt and skipping to a given offset will restart the experiment in exactly the same state it was on a previous run.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For offsets to be well defined, all calls to <a href="../trials/#Weber.moment"><code>moment</code></a> and <a href="../trials/#Weber.@addtrials"><code>@addtrials</code></a> must follow the guidlines in the user guide. In particular, moments should not rely on state that changes during the experiment unless they are wrapped in an @addtrials macro.</p>
</div>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L41-L55' class='documenter-source'>source</a><br></p>
<p><a id='Weber.tick' href='#Weber.tick'>#</a>
<strong><code>Weber.tick</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>Weber.tick()
</code></pre>

<p>With microsecond precision, this returns the number of elapsed seconds from the start of the experiment to the start of the most recent moment.</p>
<p>If there is no experiment running, this returns the time since epoch with microsecond precision.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L59-L67' class='documenter-source'>source</a><br></p>
<p><a id='Weber.metadata' href='#Weber.metadata'>#</a>
<strong><code>Weber.metadata</code></strong> &mdash; <em>Function</em>.</p>
<p>Weber.metadata() = Dict{Symbol,Any}()</p>
<p>Returns metadata for this experiment. You can store global state, specific to this experiment, in this dictionary.</p>
<p><a target='_blank' href='https://github.com/haberdashPI/Weber.jl/tree/18d50568e45b9f2249e2be4df16624b914221cf1/src/experiment.jl#L77-L82' class='documenter-source'>source</a><br></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../trials/" class="btn btn-neutral float-right" title="Trials">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../extend/" class="btn btn-neutral" title="Extending Weber"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/haberdashPI/Weber.jl" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../extend/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../trials/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../assets/mathjaxhelper.js"></script>

</body>
</html>
